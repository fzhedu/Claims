<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>My Project: claims::logical_operator::LogicalEqualJoin Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classclaims_1_1logical__query__plan_1_1LogicalEqualJoin.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classclaims_1_1logical__query__plan_1_1LogicalEqualJoin-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">claims::logical_operator::LogicalEqualJoin Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Generate equal join logical plan.  
 <a href="classclaims_1_1logical__query__plan_1_1LogicalEqualJoin.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="logical__equal__join_8h_source.html">logical_equal_join.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for claims::logical_operator::LogicalEqualJoin:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classclaims_1_1logical__query__plan_1_1LogicalEqualJoin.png" usemap="#claims::logical_operator::LogicalEqualJoin_map" alt=""/>
  <map id="claims::logical_operator::LogicalEqualJoin_map" name="claims::logical_operator::LogicalEqualJoin_map">
<area href="classclaims_1_1logical__query__plan_1_1LogicalOperator.html" alt="claims::logical_operator::LogicalOperator" shape="rect" coords="0,0,262,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structclaims_1_1logical__query__plan_1_1LogicalEqualJoin_1_1JoinPair.html">JoinPair</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="structclaims_1_1logical__query__plan_1_1LogicalEqualJoin_1_1JoinPair.html" title="The JoinPair contains two attributes to be joined. ">JoinPair</a> contains two attributes to be joined.  <a href="structclaims_1_1logical__query__plan_1_1LogicalEqualJoin_1_1JoinPair.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a5463d6f6daa7a49d39421246a1786332"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><b>JoinPolicy</b> { <br/>
&#160;&#160;<b>kNull</b>, 
<b>kNoRepartition</b>, 
<b>kLeftRepartition</b>, 
<b>kRightRepartition</b>, 
<br/>
&#160;&#160;<b>kCompleteRepartition</b>
<br/>
 }</td></tr>
<tr class="separator:a5463d6f6daa7a49d39421246a1786332"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abd33d3a1c697cd8de71f2d1ab3775d79"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclaims_1_1logical__query__plan_1_1LogicalEqualJoin.html#abd33d3a1c697cd8de71f2d1ab3775d79">LogicalEqualJoin</a> (std::vector&lt; <a class="el" href="structclaims_1_1logical__query__plan_1_1LogicalEqualJoin_1_1JoinPair.html">JoinPair</a> &gt;, <a class="el" href="classclaims_1_1logical__query__plan_1_1LogicalOperator.html">LogicalOperator</a> *left_input, <a class="el" href="classclaims_1_1logical__query__plan_1_1LogicalOperator.html">LogicalOperator</a> *right_input)</td></tr>
<tr class="memdesc:abd33d3a1c697cd8de71f2d1ab3775d79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method description:Create a EqualJoin implement.  <a href="#abd33d3a1c697cd8de71f2d1ab3775d79">More...</a><br/></td></tr>
<tr class="separator:abd33d3a1c697cd8de71f2d1ab3775d79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77041ca59b50996fd3822044759fd462"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classclaims_1_1logical__query__plan_1_1PlanContext.html">PlanContext</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclaims_1_1logical__query__plan_1_1LogicalEqualJoin.html#a77041ca59b50996fd3822044759fd462">GetPlanContext</a> ()</td></tr>
<tr class="memdesc:a77041ca59b50996fd3822044759fd462"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method description: Get the child information.  <a href="#a77041ca59b50996fd3822044759fd462">More...</a><br/></td></tr>
<tr class="separator:a77041ca59b50996fd3822044759fd462"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24fb262b7eb9f3e5e11379a290ab570c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBlockStreamIteratorBase.html">BlockStreamIteratorBase</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclaims_1_1logical__query__plan_1_1LogicalEqualJoin.html#a24fb262b7eb9f3e5e11379a290ab570c">GetPhysicalPlan</a> (const unsigned &amp;blocksize)</td></tr>
<tr class="separator:a24fb262b7eb9f3e5e11379a290ab570c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b08d2f80d240aa4fa0d5264e4afc366"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classclaims_1_1logical__query__plan_1_1LogicalEqualJoin.html#a1b08d2f80d240aa4fa0d5264e4afc366">GetOptimalPhysicalPlan</a> (<a class="el" href="classclaims_1_1logical__query__plan_1_1Requirement.html">Requirement</a> requirement, <a class="el" href="structclaims_1_1logical__query__plan_1_1PhysicalPlanDescriptor.html">PhysicalPlanDescriptor</a> &amp;physical_plan_descriptor, const unsigned &amp;block_size=4096 *1024)</td></tr>
<tr class="separator:a1b08d2f80d240aa4fa0d5264e4afc366"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classclaims_1_1logical__query__plan_1_1LogicalOperator"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classclaims_1_1logical__query__plan_1_1LogicalOperator')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classclaims_1_1logical__query__plan_1_1LogicalOperator.html">claims::logical_operator::LogicalOperator</a></td></tr>
<tr class="memitem:ad8dafe8cdff00e9ceb9b48921f13a2d4 inherit pro_methods_classclaims_1_1logical__query__plan_1_1LogicalOperator"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad8dafe8cdff00e9ceb9b48921f13a2d4"></a>
<a class="el" href="classSchema.html">Schema</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>GetSchema</b> (const std::vector&lt; <a class="el" href="structAttribute.html">Attribute</a> &gt; &amp;) const </td></tr>
<tr class="separator:ad8dafe8cdff00e9ceb9b48921f13a2d4 inherit pro_methods_classclaims_1_1logical__query__plan_1_1LogicalOperator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ca24e7e6160965cd9f33bd1c9d94e4b inherit pro_methods_classclaims_1_1logical__query__plan_1_1LogicalOperator"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4ca24e7e6160965cd9f33bd1c9d94e4b"></a>
<a class="el" href="classSchema.html">Schema</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>GetSchema</b> (const std::vector&lt; <a class="el" href="structAttribute.html">Attribute</a> &gt; &amp;, const std::vector&lt; <a class="el" href="structAttribute.html">Attribute</a> &gt; &amp;) const </td></tr>
<tr class="separator:a4ca24e7e6160965cd9f33bd1c9d94e4b inherit pro_methods_classclaims_1_1logical__query__plan_1_1LogicalOperator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8665f7b784c625c68b066fe06222b44 inherit pro_methods_classclaims_1_1logical__query__plan_1_1LogicalOperator"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad8665f7b784c625c68b066fe06222b44"></a>
std::vector&lt; NodeID &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>GetInvolvedNodeID</b> (const <a class="el" href="classclaims_1_1logical__query__plan_1_1PlanPartitioner.html">PlanPartitioner</a> &amp;) const </td></tr>
<tr class="separator:ad8665f7b784c625c68b066fe06222b44 inherit pro_methods_classclaims_1_1logical__query__plan_1_1LogicalOperator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af648ee2333b546b46ac458f66e29b327 inherit pro_methods_classclaims_1_1logical__query__plan_1_1LogicalOperator"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af648ee2333b546b46ac458f66e29b327"></a>
std::vector&lt; NodeIP &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>ConvertNodeIDListToNodeIPList</b> (const std::vector&lt; NodeID &gt; &amp;) const </td></tr>
<tr class="separator:af648ee2333b546b46ac458f66e29b327 inherit pro_methods_classclaims_1_1logical__query__plan_1_1LogicalOperator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fccab53206415c7d569aac82bb7d873 inherit pro_methods_classclaims_1_1logical__query__plan_1_1LogicalOperator"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4fccab53206415c7d569aac82bb7d873"></a>
<a class="el" href="structclaims_1_1logical__query__plan_1_1PhysicalPlanDescriptor.html">PhysicalPlanDescriptor</a>&#160;</td><td class="memItemRight" valign="bottom"><b>GetBestPhysicalPlanDescriptor</b> (const std::vector&lt; <a class="el" href="structclaims_1_1logical__query__plan_1_1PhysicalPlanDescriptor.html">PhysicalPlanDescriptor</a> &gt;) const </td></tr>
<tr class="separator:a4fccab53206415c7d569aac82bb7d873 inherit pro_methods_classclaims_1_1logical__query__plan_1_1LogicalOperator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbe30a6c549e6fd509a7409b7e8440fa inherit pro_methods_classclaims_1_1logical__query__plan_1_1LogicalOperator"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adbe30a6c549e6fd509a7409b7e8440fa"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>GetIdInAttributeList</b> (const std::vector&lt; <a class="el" href="structAttribute.html">Attribute</a> &gt; &amp;attributes, const <a class="el" href="structAttribute.html">Attribute</a> &amp;attribute) const </td></tr>
<tr class="separator:adbe30a6c549e6fd509a7409b7e8440fa inherit pro_methods_classclaims_1_1logical__query__plan_1_1LogicalOperator"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64d284198bf6832b735bd5bf99373f4b inherit pro_methods_classclaims_1_1logical__query__plan_1_1LogicalOperator"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a64d284198bf6832b735bd5bf99373f4b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_operator_type</b> (OperatorType operator_type)</td></tr>
<tr class="separator:a64d284198bf6832b735bd5bf99373f4b inherit pro_methods_classclaims_1_1logical__query__plan_1_1LogicalOperator"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Generate equal join logical plan. </p>
<p>EqualJoin operator achieves the join statement tables.It requires equivalent conditions.As for implementation, one is to send all data to a same machine.But the generated table will be too big to store and it is inefficient.So we partition the data to several machines.Each of them does some join and return. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="abd33d3a1c697cd8de71f2d1ab3775d79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">claims::logical_operator::LogicalEqualJoin::LogicalEqualJoin </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structclaims_1_1logical__query__plan_1_1LogicalEqualJoin_1_1JoinPair.html">JoinPair</a> &gt;&#160;</td>
          <td class="paramname"><em>joinpair_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classclaims_1_1logical__query__plan_1_1LogicalOperator.html">LogicalOperator</a> *&#160;</td>
          <td class="paramname"><em>left_input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classclaims_1_1logical__query__plan_1_1LogicalOperator.html">LogicalOperator</a> *&#160;</td>
          <td class="paramname"><em>right_input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method description:Create a EqualJoin implement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">std::vector&lt;JoinPair&gt;</td><td></td></tr>
    <tr><td class="paramname">LogicalOperator*</td><td>left_input </td></tr>
    <tr><td class="paramname">LogicalOperator*</td><td>right_input </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1b08d2f80d240aa4fa0d5264e4afc366"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool claims::logical_operator::LogicalEqualJoin::GetOptimalPhysicalPlan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classclaims_1_1logical__query__plan_1_1Requirement.html">Requirement</a>&#160;</td>
          <td class="paramname"><em>requirement</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structclaims_1_1logical__query__plan_1_1PhysicalPlanDescriptor.html">PhysicalPlanDescriptor</a> &amp;&#160;</td>
          <td class="paramname"><em>physical_plan_descriptor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned &amp;&#160;</td>
          <td class="paramname"><em>block_size</em> = <code>4096&#160;*&#160;1024</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>get the optimal Physical plan that meets the requirement. </p>
<dl class="section return"><dt>Returns</dt><dd>true if find physical plan that meets the requirement and store the physical plan and its corresponding information in physical_plan_descriptor. </dd></dl>

<p>Reimplemented from <a class="el" href="classclaims_1_1logical__query__plan_1_1LogicalOperator.html#a9acebc48e86bbb81ac63c23f4aa96d26">claims::logical_operator::LogicalOperator</a>.</p>

</div>
</div>
<a class="anchor" id="a24fb262b7eb9f3e5e11379a290ab570c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBlockStreamIteratorBase.html">BlockStreamIteratorBase</a> * claims::logical_operator::LogicalEqualJoin::GetPhysicalPlan </td>
          <td>(</td>
          <td class="paramtype">const unsigned &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>generate the iterator tree based on the computed plan_context. Hence, this function can only be called after the calling of <a class="el" href="classclaims_1_1logical__query__plan_1_1LogicalEqualJoin.html#a77041ca59b50996fd3822044759fd462" title="Method description: Get the child information. ">GetPlanContext()</a>. </p>
<p>In the initial implementation, I set the bucket size to be up round to cache line size, e.g., 64Bytes. Finally, I realized that different from aggregation,the hash table bucket in the build phase of hash join is filled very quickly and hence a * a relatively large bucket size could reduce the number of overflowing buckets and avoid the random memory access caused by acceesing overflowing buckets.</p>

<p>Implements <a class="el" href="classclaims_1_1logical__query__plan_1_1LogicalOperator.html#a06f66bf15487a3e00e6fb64b8930cc19">claims::logical_operator::LogicalOperator</a>.</p>

<p>References <a class="el" href="classclaims_1_1logical__query__plan_1_1LogicalOperator.html#a06f66bf15487a3e00e6fb64b8930cc19">claims::logical_operator::LogicalOperator::GetPhysicalPlan()</a>, <a class="el" href="classclaims_1_1logical__query__plan_1_1LogicalOperator.html#a59f89f6f150d6e995cf5a4cfb86ad715">claims::logical_operator::LogicalOperator::GetPlanContext()</a>, <a class="el" href="classclaims_1_1logical__query__plan_1_1LogicalEqualJoin.html#a77041ca59b50996fd3822044759fd462">GetPlanContext()</a>, and <a class="el" href="classConfig.html#a26796209d4eb0791a0f608e1f08262b1">Config::initial_degree_of_parallelism</a>.</p>

</div>
</div>
<a class="anchor" id="a77041ca59b50996fd3822044759fd462"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classclaims_1_1logical__query__plan_1_1PlanContext.html">PlanContext</a> claims::logical_operator::LogicalEqualJoin::GetPlanContext </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method description: Get the child information. </p>
<p>The mostly important member is "property" and "attributes
list". When getting data from child, we make some choices according to JoinPolice. JoinPolice is generated from canLeverageHashPartition(), isEqualCondition(), hasSamePartition(). If all of them is true, it means partition_key in the join_list and two partition_keys in the same join_pair.Besides, it they have partitioned to the same machine.So we don't need repartition, and JoinPolice = kNodeRepartition. If both canLeverageHashPartition()s are true, but isEqualCondition() or hasSamePartition() is false, the machine which has smaller data will send its data to another according to decideLeftOrRightRepartition(). If canLeverageHashPartition(left) is true but canLeverageHashPartition (right) is false, right nodes will be repartitioned. join_police_ = kRightRepartition If canLeverageHashPartition(left) is false but canLeverageHashPartition (right) is true, left nodes will be repartitioned. oin_police_ = kLeftRepartition If both canLeverageHashPartition()s are false, left and right nodes will be repartitioned. join_police_ = kCompleteRepartition </p>
<p>in the current implementation, only the hash join is considered</p>
<p>finally, construct the output data flow according to the join police</p>
<p>Use the left partitioner as the output dataflow partitioner. TODO(admin): In fact, the output dataflow partitioner should contains both left partitioner and right partitioner.</p>
<p>Set the generated data size. Currently, we assume the generated data size is the sum of input data volume. TODO(admin): Some reasonable output size estimation is needed.</p>
<p>set the generated data size</p>
<p>TODO(admin): the repartition strategy (e.g., the degree of parallelism and the partition function) in such case is not decided by any child data flow. Additional optimization can be made by adopting the partition strategy which benefits the remaining work.</p>

<p>Implements <a class="el" href="classclaims_1_1logical__query__plan_1_1LogicalOperator.html#a59f89f6f150d6e995cf5a4cfb86ad715">claims::logical_operator::LogicalOperator</a>.</p>

<p>References <a class="el" href="classclaims_1_1logical__query__plan_1_1LogicalOperator.html#a59f89f6f150d6e995cf5a4cfb86ad715">claims::logical_operator::LogicalOperator::GetPlanContext()</a>, and <a class="el" href="classclaims_1_1logical__query__plan_1_1PlanPartitioner.html#a7c0cdedfb4ef8362613a36b9d0567546">claims::logical_operator::PlanPartitioner::HasSamePartitionLocation()</a>.</p>

<p>Referenced by <a class="el" href="classclaims_1_1logical__query__plan_1_1LogicalEqualJoin.html#a24fb262b7eb9f3e5e11379a290ab570c">GetPhysicalPlan()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>logical_operator/<a class="el" href="logical__equal__join_8h_source.html">logical_equal_join.h</a></li>
<li>logical_operator/logical_equal_join.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceclaims.html">claims</a></li><li class="navelem"><b>logical_operator</b></li><li class="navelem"><a class="el" href="classclaims_1_1logical__query__plan_1_1LogicalEqualJoin.html">LogicalEqualJoin</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
